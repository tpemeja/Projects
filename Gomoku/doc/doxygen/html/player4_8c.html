<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gomoku - Bitboards: C:/Users/tangu/Documents/Perso/GitHub_perso/Projects/Gomoku/src/players/player4.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Gomoku - Bitboards
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('player4_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">player4.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &quot;<a class="el" href="players_2player_8h_source.html">player.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="move_8h_source.html">../server/move.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="matrix_8h_source.html">matrix.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="heuristic0_8h_source.html">heuristic0.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for player4.c:</div>
<div class="dyncontent">
<div class="center"><img src="player4_8c__incl.png" border="0" usemap="#aC_1_2Users_2tangu_2Documents_2Perso_2GitHub__perso_2Projects_2Gomoku_2src_2players_2player4_8c" alt=""/></div>
</div>
</div>
<p><a href="player4_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a956e2723d559858d08644ac99146e910"><td class="memItemLeft" align="right" valign="top"><a id="a956e2723d559858d08644ac99146e910"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>INFINITY</b>&#160;&#160;&#160;10000</td></tr>
<tr class="separator:a956e2723d559858d08644ac99146e910"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae999b5cc7b431ab09bf73eeb4e93113d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="player4_8c.html#ae999b5cc7b431ab09bf73eeb4e93113d">min_max</a> (int depth, int alpha, int beta, int maximizingPlayer)</td></tr>
<tr class="memdesc:ae999b5cc7b431ab09bf73eeb4e93113d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Min-max strategy that deepens in tree of possibilities at a depth given, computes the evaluation of the board and find the best move to do by taking into account both matrix of opportunities (player) and dangers (opponent).  <a href="player4_8c.html#ae999b5cc7b431ab09bf73eeb4e93113d">More...</a><br /></td></tr>
<tr class="separator:ae999b5cc7b431ab09bf73eeb4e93113d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94eac451942d71287c6b32f57b168796"><td class="memItemLeft" align="right" valign="top">char const  *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="player4_8c.html#a94eac451942d71287c6b32f57b168796">get_player_name</a> ()</td></tr>
<tr class="memdesc:a94eac451942d71287c6b32f57b168796"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access to player informations.  <a href="player4_8c.html#a94eac451942d71287c6b32f57b168796">More...</a><br /></td></tr>
<tr class="separator:a94eac451942d71287c6b32f57b168796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9705fcde5f318c9c4b4a6f37bf531856"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcol__move__t.html">col_move_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="player4_8c.html#a9705fcde5f318c9c4b4a6f37bf531856">propose_opening</a> (size_t size)</td></tr>
<tr class="memdesc:a9705fcde5f318c9c4b4a6f37bf531856"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a sequcen of three moves for an opening.  <a href="player4_8c.html#a9705fcde5f318c9c4b4a6f37bf531856">More...</a><br /></td></tr>
<tr class="separator:a9705fcde5f318c9c4b4a6f37bf531856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f483503c1333214acb684507fa5c123"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="player4_8c.html#a7f483503c1333214acb684507fa5c123">initialize</a> (size_t size, enum color_t id)</td></tr>
<tr class="memdesc:a7f483503c1333214acb684507fa5c123"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the player: store the size of the board, the id (color)  <a href="player4_8c.html#a7f483503c1333214acb684507fa5c123">More...</a><br /></td></tr>
<tr class="separator:a7f483503c1333214acb684507fa5c123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14d25156a6a0a90ef18861f08b25f908"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="player4_8c.html#a14d25156a6a0a90ef18861f08b25f908">accept_opening</a> (size_t size, const struct <a class="el" href="structcol__move__t.html">col_move_t</a> *opening)</td></tr>
<tr class="memdesc:a14d25156a6a0a90ef18861f08b25f908"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accept the opening or not depending on the moves on the board.  <a href="player4_8c.html#a14d25156a6a0a90ef18861f08b25f908">More...</a><br /></td></tr>
<tr class="separator:a14d25156a6a0a90ef18861f08b25f908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad36fed135f57e919a3a6e2a3d635d2d4"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structmove__t.html">move_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="player4_8c.html#ad36fed135f57e919a3a6e2a3d635d2d4">play</a> (struct <a class="el" href="structcol__move__t.html">col_move_t</a> const previous_moves[], size_t n_moves)</td></tr>
<tr class="memdesc:ad36fed135f57e919a3a6e2a3d635d2d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the next move by taking into account the last n moves. Different players have differents strategies which means each player won't return the same move insofar as they treat the board differently.  <a href="player4_8c.html#ad36fed135f57e919a3a6e2a3d635d2d4">More...</a><br /></td></tr>
<tr class="separator:ad36fed135f57e919a3a6e2a3d635d2d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32d626626eee0bc4ade146973f6abb1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="player4_8c.html#a32d626626eee0bc4ade146973f6abb1c">finalize</a> ()</td></tr>
<tr class="memdesc:a32d626626eee0bc4ade146973f6abb1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Announces the end of the game to the player, and cleans up the memory he may have been using.  <a href="player4_8c.html#a32d626626eee0bc4ade146973f6abb1c">More...</a><br /></td></tr>
<tr class="separator:a32d626626eee0bc4ade146973f6abb1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5563086c281c862fc8969e440a105d04"><td class="memItemLeft" align="right" valign="top"><a id="a5563086c281c862fc8969e440a105d04"></a>
struct <a class="el" href="structplayer.html">player</a>&#160;</td><td class="memItemRight" valign="bottom"><b>self</b></td></tr>
<tr class="separator:a5563086c281c862fc8969e440a105d04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62066186c79614d66b02a21742fec4f0"><td class="memItemLeft" align="right" valign="top"><a id="a62066186c79614d66b02a21742fec4f0"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>nb_nodes</b> = 0</td></tr>
<tr class="separator:a62066186c79614d66b02a21742fec4f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This player is an improvement of player3 using min_max. In fact, the previous player only does the differences between opportunities and dangers at the current turn, but here this player will deepen the possibilities by using min-max strategy. When he has several possibilities, he explores all of them with min_max to find the best option in the long term </p>

<p class="definition">Definition in file <a class="el" href="player4_8c_source.html">player4.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a14d25156a6a0a90ef18861f08b25f908"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14d25156a6a0a90ef18861f08b25f908">&#9670;&nbsp;</a></span>accept_opening()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int accept_opening </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcol__move__t.html">col_move_t</a> *&#160;</td>
          <td class="paramname"><em>opening</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accept the opening or not depending on the moves on the board. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>the size of the board, size &gt;= 5 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opening</td><td>a pointer to an array of three moves, the size of the array is at least 3 and the moves sequence is BLACK, WHITE and BLACK </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the player accepts the opening, 0 otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="player4_8c_source.html#l00117">117</a> of file <a class="el" href="player4_8c_source.html">player4.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                                                                 {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <a class="code" href="player4_8c.html#a7f483503c1333214acb684507fa5c123">initialize</a>(size,WHITE);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keyword">struct </span><a class="code" href="structmove__t.html">move_t</a> m = <a class="code" href="player4_8c.html#ad36fed135f57e919a3a6e2a3d635d2d4">play</a>(opening,3);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <a class="code" href="heuristic_8c.html#a339bf8a87fa849c6f02bbdc94aa807be">heuristic_actualize</a>(m, <span class="keyword">self</span>.color);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordtype">int</span> h = <a class="code" href="heuristic_8c.html#a3e3fd6306c88a78f7ac8591b7bda9ddc">heuristic_eval_game</a>(<span class="keyword">self</span>.opportunity, <span class="keyword">self</span>.danger);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keyword">struct </span><a class="code" href="structcol__move__t.html">col_move_t</a> cmv1 = {<a class="code" href="structcol__move__t.html#a6d311da8267044cde087b9dd37238fdf">m</a>,WHITE};</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keyword">struct </span><a class="code" href="structcol__move__t.html">col_move_t</a>* open = malloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structcol__move__t.html">col_move_t</a>)*4);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  *open = *opening ;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  *(open + 1) = *(opening + 1);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  *(open + 2) = *(opening + 2);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  *(open + 3) = cmv1;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keyword">self</span>.color = BLACK;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keyword">struct </span><a class="code" href="structmove__t.html">move_t</a> m1 = <a class="code" href="player4_8c.html#ad36fed135f57e919a3a6e2a3d635d2d4">play</a>(open,4);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <a class="code" href="heuristic_8c.html#a339bf8a87fa849c6f02bbdc94aa807be">heuristic_actualize</a>(m1, <span class="keyword">self</span>.color);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordtype">int</span> h1 = <a class="code" href="heuristic_8c.html#a3e3fd6306c88a78f7ac8591b7bda9ddc">heuristic_eval_game</a>(<span class="keyword">self</span>.opportunity, <span class="keyword">self</span>.danger);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <a class="code" href="heuristic_8c.html#ae464a86fa0015597dfb9ae150d073e98">heuristic_remove</a>(m);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <a class="code" href="heuristic_8c.html#ae464a86fa0015597dfb9ae150d073e98">heuristic_remove</a>(m1);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  free(open);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keyword">self</span>.nb_moves = 0;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <a class="code" href="player4_8c.html#a32d626626eee0bc4ade146973f6abb1c">finalize</a>();</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">if</span>(h1&lt;h){</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
<div class="ttc" id="aheuristic_8c_html_a339bf8a87fa849c6f02bbdc94aa807be"><div class="ttname"><a href="heuristic_8c.html#a339bf8a87fa849c6f02bbdc94aa807be">heuristic_actualize</a></div><div class="ttdeci">void heuristic_actualize(struct heuristic *h, struct move_t m, int color)</div><div class="ttdoc">Update the heuristic's board and 2 matrixes with the move given in parameter.</div><div class="ttdef"><b>Definition:</b> <a href="heuristic_8c_source.html#l00124">heuristic.c:124</a></div></div>
<div class="ttc" id="aheuristic_8c_html_a3e3fd6306c88a78f7ac8591b7bda9ddc"><div class="ttname"><a href="heuristic_8c.html#a3e3fd6306c88a78f7ac8591b7bda9ddc">heuristic_eval_game</a></div><div class="ttdeci">int heuristic_eval_game(struct heuristic *h, int color)</div><div class="ttdoc">Return the value of the last move added with heuristic_actualize. We know the length of our last line...</div><div class="ttdef"><b>Definition:</b> <a href="heuristic_8c_source.html#l00159">heuristic.c:159</a></div></div>
<div class="ttc" id="aheuristic_8c_html_ae464a86fa0015597dfb9ae150d073e98"><div class="ttname"><a href="heuristic_8c.html#ae464a86fa0015597dfb9ae150d073e98">heuristic_remove</a></div><div class="ttdeci">void heuristic_remove(struct heuristic *h, struct move_t m)</div><div class="ttdoc">Undo what was done by heuristic_actualize by removing a move from the heuristic board.</div><div class="ttdef"><b>Definition:</b> <a href="heuristic_8c_source.html#l00131">heuristic.c:131</a></div></div>
<div class="ttc" id="aplayer4_8c_html_a32d626626eee0bc4ade146973f6abb1c"><div class="ttname"><a href="player4_8c.html#a32d626626eee0bc4ade146973f6abb1c">finalize</a></div><div class="ttdeci">void finalize()</div><div class="ttdoc">Announces the end of the game to the player, and cleans up the memory he may have been using.</div><div class="ttdef"><b>Definition:</b> <a href="player4_8c_source.html#l00197">player4.c:197</a></div></div>
<div class="ttc" id="aplayer4_8c_html_a7f483503c1333214acb684507fa5c123"><div class="ttname"><a href="player4_8c.html#a7f483503c1333214acb684507fa5c123">initialize</a></div><div class="ttdeci">void initialize(size_t size, enum color_t id)</div><div class="ttdoc">Initialize the player: store the size of the board, the id (color)</div><div class="ttdef"><b>Definition:</b> <a href="player4_8c_source.html#l00109">player4.c:109</a></div></div>
<div class="ttc" id="aplayer4_8c_html_ad36fed135f57e919a3a6e2a3d635d2d4"><div class="ttname"><a href="player4_8c.html#ad36fed135f57e919a3a6e2a3d635d2d4">play</a></div><div class="ttdeci">struct move_t play(struct col_move_t const previous_moves[], size_t n_moves)</div><div class="ttdoc">Computes the next move by taking into account the last n moves. Different players have differents str...</div><div class="ttdef"><b>Definition:</b> <a href="player4_8c_source.html#l00117">player4.c:143</a></div></div>
<div class="ttc" id="astructcol__move__t_html"><div class="ttname"><a href="structcol__move__t.html">col_move_t</a></div><div class="ttdoc">Describe a position but with a color associated.</div><div class="ttdef"><b>Definition:</b> <a href="move_8h_source.html#l00028">move.h:28</a></div></div>
<div class="ttc" id="astructcol__move__t_html_a6d311da8267044cde087b9dd37238fdf"><div class="ttname"><a href="structcol__move__t.html#a6d311da8267044cde087b9dd37238fdf">col_move_t::m</a></div><div class="ttdeci">struct move_t m</div><div class="ttdef"><b>Definition:</b> <a href="move_8h_source.html#l00023">move.h:32</a></div></div>
<div class="ttc" id="astructmove__t_html"><div class="ttname"><a href="structmove__t.html">move_t</a></div><div class="ttdoc">Describe a position on a board.</div><div class="ttdef"><b>Definition:</b> <a href="move_8h_source.html#l00019">move.h:19</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a32d626626eee0bc4ade146973f6abb1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32d626626eee0bc4ade146973f6abb1c">&#9670;&nbsp;</a></span>finalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void finalize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Announces the end of the game to the player, and cleans up the memory he may have been using. </p>
<dl class="section return"><dt>Returns</dt><dd>every allocation done during the calls to initialeze and play functions must have been freed </dd></dl>

<p class="definition">Definition at line <a class="el" href="player4_8c_source.html#l00197">197</a> of file <a class="el" href="player4_8c_source.html">player4.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;               {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <a class="code" href="matrix_8c.html#a7b0d2f6e67b1e95b9b9cf7795591c6ca">matrix_free</a>(<span class="keyword">self</span>.opportunity);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <a class="code" href="matrix_8c.html#a7b0d2f6e67b1e95b9b9cf7795591c6ca">matrix_free</a>(<span class="keyword">self</span>.danger);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <a class="code" href="matrix_8c.html#a7b0d2f6e67b1e95b9b9cf7795591c6ca">matrix_free</a>(<span class="keyword">self</span>.actual_board);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div>
<div class="ttc" id="amatrix_8c_html_a7b0d2f6e67b1e95b9b9cf7795591c6ca"><div class="ttname"><a href="matrix_8c.html#a7b0d2f6e67b1e95b9b9cf7795591c6ca">matrix_free</a></div><div class="ttdeci">void matrix_free(struct matrix *m)</div><div class="ttdoc">Free a matrix allocated in the heap.</div><div class="ttdef"><b>Definition:</b> <a href="matrix_8c_source.html#l00134">matrix.c:134</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a94eac451942d71287c6b32f57b168796"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94eac451942d71287c6b32f57b168796">&#9670;&nbsp;</a></span>get_player_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char const* get_player_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Access to player informations. </p>
<dl class="section return"><dt>Returns</dt><dd>the player name as an [a-zA-Z0-9 -_]* string </dd></dl>

<p class="definition">Definition at line <a class="el" href="player4_8c_source.html#l00082">82</a> of file <a class="el" href="player4_8c_source.html">player4.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                             {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordflow">return</span> <span class="stringliteral">&quot;C warrior 4.1&quot;</span>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7f483503c1333214acb684507fa5c123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f483503c1333214acb684507fa5c123">&#9670;&nbsp;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initialize </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum color_t&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the player: store the size of the board, the id (color) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>the size of the board, size &gt;= 5 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>either BLACK or WHITE </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>player internally initialized with the size of the board and the color </dd></dl>

<p class="definition">Definition at line <a class="el" href="player4_8c_source.html#l00109">109</a> of file <a class="el" href="player4_8c_source.html">player4.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                             {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keyword">self</span>.color = id;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keyword">self</span>.size = size;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keyword">self</span>.opportunity = <a class="code" href="matrix_8c.html#a220da864438abf98f1026f5a815fb830">matrix_generate</a>(size, 0);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keyword">self</span>.danger = <a class="code" href="matrix_8c.html#a220da864438abf98f1026f5a815fb830">matrix_generate</a>(size, 0);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keyword">self</span>.actual_board = <a class="code" href="matrix_8c.html#a220da864438abf98f1026f5a815fb830">matrix_generate</a>(size, -1);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div>
<div class="ttc" id="amatrix_8c_html_a220da864438abf98f1026f5a815fb830"><div class="ttname"><a href="matrix_8c.html#a220da864438abf98f1026f5a815fb830">matrix_generate</a></div><div class="ttdeci">struct matrix * matrix_generate(size_t size, int value)</div><div class="ttdoc">Generate a matrix of size size filled the default value given in parameter.</div><div class="ttdef"><b>Definition:</b> <a href="matrix_8c_source.html#l00012">matrix.c:12</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae999b5cc7b431ab09bf73eeb4e93113d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae999b5cc7b431ab09bf73eeb4e93113d">&#9670;&nbsp;</a></span>min_max()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int min_max </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>alpha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>beta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maximizingPlayer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Min-max strategy that deepens in tree of possibilities at a depth given, computes the evaluation of the board and find the best move to do by taking into account both matrix of opportunities (player) and dangers (opponent). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">depth</td><td>depth of the tree of possibilies explored </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">alpha</td><td>minimum value previously found in other branches </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">beta</td><td>maximum value previously found in other branches </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maximizingPlayer</td><td>id of the current player of the current depth </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>evaluation of the board at a given depth </dd></dl>

<p class="definition">Definition at line <a class="el" href="player4_8c_source.html#l00032">32</a> of file <a class="el" href="player4_8c_source.html">player4.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                                                                 {</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    nb_nodes++;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keywordflow">if</span> (depth == 0 || <a class="code" href="heuristic_8c.html#a0c4c55d03d4010d3d9bae8f84ea1f7f0">heuristic_full</a>()){</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="heuristic_8c.html#a3e3fd6306c88a78f7ac8591b7bda9ddc">heuristic_eval_game</a>(<span class="keyword">self</span>.opportunity, <span class="keyword">self</span>.danger);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  }</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="keywordtype">int</span> better_move;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="keywordtype">int</span> step;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="keywordflow">if</span> (maximizingPlayer){</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    better_move = -INFINITY;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keyword">struct </span><a class="code" href="structlist.html">list</a> * <a class="code" href="structmoves.html">moves</a> = <a class="code" href="heuristic_8c.html#a066172fe9f22911c0ee32077baccfff2">generating_moves</a>(<span class="keyword">self</span>.opportunity, <span class="keyword">self</span>.danger);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keyword">struct </span><a class="code" href="structmove__t.html">move_t</a> m = <a class="code" href="list_8c.html#a3927d0ef75ff138ac62de97793024a0f">list_get</a>(<a class="code" href="structmoves.html">moves</a>, 0);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="matrix_8c.html#ac7d6e5b7a16266688a3e2ab2d91b1383">matrix_get</a>(<span class="keyword">self</span>.opportunity, m.<a class="code" href="structmove__t.html#ace551d341a71dfcd689691c56edfaef2">row</a>, m.col) &gt;= 5){</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;      <a class="code" href="list_8c.html#a15aa9f8cf8424489adf1efd4d075aac6">list_free</a>(<a class="code" href="structmoves.html">moves</a>);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;      <span class="keywordflow">return</span> INFINITY-1;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="list_8c.html#aa4e55fa0b1311c4aa6e9d03163546535">list_length</a>(<a class="code" href="structmoves.html">moves</a>);i++){</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;      <span class="keyword">struct </span><a class="code" href="structmove__t.html">move_t</a> mv = <a class="code" href="list_8c.html#a3927d0ef75ff138ac62de97793024a0f">list_get</a>(<a class="code" href="structmoves.html">moves</a>, i);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      <a class="code" href="heuristic_8c.html#a339bf8a87fa849c6f02bbdc94aa807be">heuristic_actualize</a>(mv, <span class="keyword">self</span>.color); <span class="comment">/* simulate the move */</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      step = <a class="code" href="player4_8c.html#ae999b5cc7b431ab09bf73eeb4e93113d">min_max</a>(depth-1, alpha, beta, 0);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      <a class="code" href="heuristic_8c.html#ae464a86fa0015597dfb9ae150d073e98">heuristic_remove</a>(mv); <span class="comment">/* undo what was done */</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      <span class="keywordflow">if</span> (step &gt; better_move){ better_move = step; }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      <span class="keywordflow">if</span> (step &gt; alpha){ alpha = step; }</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <span class="keywordflow">if</span> (beta &lt;= alpha){ <span class="keywordflow">break</span>; }</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    }</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="list_8c.html#a15aa9f8cf8424489adf1efd4d075aac6">list_free</a>(<a class="code" href="structmoves.html">moves</a>);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  }</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    better_move = INFINITY;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keyword">struct </span><a class="code" href="structlist.html">list</a> * <a class="code" href="structmoves.html">moves</a> = <a class="code" href="heuristic_8c.html#a066172fe9f22911c0ee32077baccfff2">generating_moves</a>(<span class="keyword">self</span>.danger, <span class="keyword">self</span>.opportunity);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keyword">struct </span><a class="code" href="structmove__t.html">move_t</a> m = <a class="code" href="list_8c.html#a3927d0ef75ff138ac62de97793024a0f">list_get</a>(<a class="code" href="structmoves.html">moves</a>, 0);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="matrix_8c.html#ac7d6e5b7a16266688a3e2ab2d91b1383">matrix_get</a>(<span class="keyword">self</span>.danger, m.<a class="code" href="structmove__t.html#ace551d341a71dfcd689691c56edfaef2">row</a>, m.col) &gt;= 5){</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      <a class="code" href="list_8c.html#a15aa9f8cf8424489adf1efd4d075aac6">list_free</a>(<a class="code" href="structmoves.html">moves</a>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <span class="keywordflow">return</span> -INFINITY+1;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="list_8c.html#aa4e55fa0b1311c4aa6e9d03163546535">list_length</a>(<a class="code" href="structmoves.html">moves</a>); i++){</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      <span class="keyword">struct </span><a class="code" href="structmove__t.html">move_t</a> mv = <a class="code" href="list_8c.html#a3927d0ef75ff138ac62de97793024a0f">list_get</a>(<a class="code" href="structmoves.html">moves</a>, i);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <a class="code" href="heuristic_8c.html#a339bf8a87fa849c6f02bbdc94aa807be">heuristic_actualize</a>(mv, (<span class="keyword">self</span>.color+1)%2);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      step = <a class="code" href="player4_8c.html#ae999b5cc7b431ab09bf73eeb4e93113d">min_max</a>(depth-1, alpha, beta, 1);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <a class="code" href="heuristic_8c.html#ae464a86fa0015597dfb9ae150d073e98">heuristic_remove</a>(mv);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      <span class="keywordflow">if</span> (step &lt; better_move){ better_move = step; }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <span class="keywordflow">if</span> (step &lt; beta){ beta = step; }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      <span class="keywordflow">if</span> (beta &lt;= alpha){ <span class="keywordflow">break</span>; }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="list_8c.html#a15aa9f8cf8424489adf1efd4d075aac6">list_free</a>(<a class="code" href="structmoves.html">moves</a>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordflow">return</span> better_move;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div>
<div class="ttc" id="aheuristic_8c_html_a066172fe9f22911c0ee32077baccfff2"><div class="ttname"><a href="heuristic_8c.html#a066172fe9f22911c0ee32077baccfff2">generating_moves</a></div><div class="ttdeci">struct list * generating_moves(struct heuristic *h, int color)</div><div class="ttdoc">Extract the best moves from the matrix of opportunities and matrix of dangers (with the maximum evalu...</div><div class="ttdef"><b>Definition:</b> <a href="heuristic_8c_source.html#l00163">heuristic.c:163</a></div></div>
<div class="ttc" id="aheuristic_8c_html_a0c4c55d03d4010d3d9bae8f84ea1f7f0"><div class="ttname"><a href="heuristic_8c.html#a0c4c55d03d4010d3d9bae8f84ea1f7f0">heuristic_full</a></div><div class="ttdeci">int heuristic_full(struct heuristic *h)</div><div class="ttdoc">Verify if the board is full.</div><div class="ttdef"><b>Definition:</b> <a href="heuristic_8c_source.html#l00138">heuristic.c:138</a></div></div>
<div class="ttc" id="alist_8c_html_a15aa9f8cf8424489adf1efd4d075aac6"><div class="ttname"><a href="list_8c.html#a15aa9f8cf8424489adf1efd4d075aac6">list_free</a></div><div class="ttdeci">void list_free(struct list *l)</div><div class="ttdoc">Free the list given in parameter.</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00082">list.c:82</a></div></div>
<div class="ttc" id="alist_8c_html_a3927d0ef75ff138ac62de97793024a0f"><div class="ttname"><a href="list_8c.html#a3927d0ef75ff138ac62de97793024a0f">list_get</a></div><div class="ttdeci">struct move_t list_get(struct list *l, int i)</div><div class="ttdoc">Return the move number i in the list.</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00032">list.c:45</a></div></div>
<div class="ttc" id="alist_8c_html_aa4e55fa0b1311c4aa6e9d03163546535"><div class="ttname"><a href="list_8c.html#aa4e55fa0b1311c4aa6e9d03163546535">list_length</a></div><div class="ttdeci">int list_length(struct list *l)</div><div class="ttdoc">Return the length of list given in parameter.</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00027">list.c:27</a></div></div>
<div class="ttc" id="amatrix_8c_html_ac7d6e5b7a16266688a3e2ab2d91b1383"><div class="ttname"><a href="matrix_8c.html#ac7d6e5b7a16266688a3e2ab2d91b1383">matrix_get</a></div><div class="ttdeci">int matrix_get(struct matrix *m, int i, int j)</div><div class="ttdoc">Return the value at position i,j of the matrix.</div><div class="ttdef"><b>Definition:</b> <a href="matrix_8c_source.html#l00022">matrix.c:22</a></div></div>
<div class="ttc" id="aplayer4_8c_html_ae999b5cc7b431ab09bf73eeb4e93113d"><div class="ttname"><a href="player4_8c.html#ae999b5cc7b431ab09bf73eeb4e93113d">min_max</a></div><div class="ttdeci">int min_max(int depth, int alpha, int beta, int maximizingPlayer)</div><div class="ttdoc">Min-max strategy that deepens in tree of possibilities at a depth given, computes the evaluation of t...</div><div class="ttdef"><b>Definition:</b> <a href="player4_8c_source.html#l00032">player4.c:32</a></div></div>
<div class="ttc" id="astructlist_html"><div class="ttname"><a href="structlist.html">list</a></div><div class="ttdoc">Implementation of a list with an extending table. It is usefull for players' internal structure in or...</div><div class="ttdef"><b>Definition:</b> <a href="list_8h_source.html#l00013">list.h:13</a></div></div>
<div class="ttc" id="astructmove__t_html_ace551d341a71dfcd689691c56edfaef2"><div class="ttname"><a href="structmove__t.html#ace551d341a71dfcd689691c56edfaef2">move_t::row</a></div><div class="ttdeci">size_t row</div><div class="ttdef"><b>Definition:</b> <a href="move_8h_source.html#l00023">move.h:23</a></div></div>
<div class="ttc" id="astructmoves_html"><div class="ttname"><a href="structmoves.html">moves</a></div><div class="ttdoc">Structure which implements an array of col_move_t of the last n moves.</div><div class="ttdef"><b>Definition:</b> <a href="moves_8h_source.html#l00025">moves.h:25</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad36fed135f57e919a3a6e2a3d635d2d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad36fed135f57e919a3a6e2a3d635d2d4">&#9670;&nbsp;</a></span>play()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structmove__t.html">move_t</a> play </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcol__move__t.html">col_move_t</a> const&#160;</td>
          <td class="paramname"><em>previous_moves</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n_moves</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the next move by taking into account the last n moves. Different players have differents strategies which means each player won't return the same move insofar as they treat the board differently. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">previous_moves[]</td><td>ordered list of previous moves starting from the last move issued by the player if it exists, otherwise from the beginning of the game (opening moves are not considered as moves issued by a particular player, even if they have a color). It is an arrat of at least n_moves elements </td></tr>
    <tr><td class="paramname">n_moves</td><td>number of moves in previous_moves </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the next computed move for the player </dd></dl>

<p class="definition">Definition at line <a class="el" href="player4_8c_source.html#l00117">117</a> of file <a class="el" href="player4_8c_source.html">player4.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                                                                            {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="comment">// updating actual board</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0; i &lt; n_moves; i++){</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="heuristic_8c.html#a339bf8a87fa849c6f02bbdc94aa807be">heuristic_actualize</a>(previous_moves[i].m, previous_moves[i].c);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="comment">/*printf(&quot;================================\n&quot;);</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">    matrix_print(&amp;self.opportunity);</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">    printf(&quot;================================\n&quot;);</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">    matrix_print(&amp;self.danger);</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">    printf(&quot;================================\n&quot;);*/</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="comment">// applying min_max</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keyword">struct </span><a class="code" href="structmove__t.html">move_t</a> next_mv;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordtype">int</span> depth = 5;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">self</span>.nb_moves &lt; 20){ depth = 4; }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">self</span>.nb_moves &lt; 10){ depth = 3; }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">self</span>.nb_moves &lt; 5){ depth = 2; }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordtype">long</span> clk_tck = CLOCKS_PER_SEC;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  clock_t t1, t2;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  t1 = clock();</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  nb_nodes = 0;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordtype">int</span> better_move = -INFINITY;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordtype">int</span> alpha = -INFINITY;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordtype">int</span> beta = INFINITY;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordtype">int</span> step;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keyword">struct </span><a class="code" href="structlist.html">list</a> * <a class="code" href="structmoves.html">moves</a> = <a class="code" href="heuristic_8c.html#a066172fe9f22911c0ee32077baccfff2">generating_moves</a>(<span class="keyword">self</span>.opportunity, <span class="keyword">self</span>.danger);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keyword">struct </span><a class="code" href="structmove__t.html">move_t</a> m = <a class="code" href="list_8c.html#a3927d0ef75ff138ac62de97793024a0f">list_get</a>(<a class="code" href="structmoves.html">moves</a>, 0);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="matrix_8c.html#ac7d6e5b7a16266688a3e2ab2d91b1383">matrix_get</a>(<span class="keyword">self</span>.opportunity, m.<a class="code" href="structmove__t.html#ace551d341a71dfcd689691c56edfaef2">row</a>, m.col) &gt;= 5){</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    printf(<span class="stringliteral">&quot;I won !\n&quot;</span>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="list_8c.html#a15aa9f8cf8424489adf1efd4d075aac6">list_free</a>(<a class="code" href="structmoves.html">moves</a>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">return</span> m;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="list_8c.html#aa4e55fa0b1311c4aa6e9d03163546535">list_length</a>(<a class="code" href="structmoves.html">moves</a>) == 0){printf(<span class="stringliteral">&quot;error !\n&quot;</span>);}</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="list_8c.html#aa4e55fa0b1311c4aa6e9d03163546535">list_length</a>(<a class="code" href="structmoves.html">moves</a>); i++){</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keyword">struct </span><a class="code" href="structmove__t.html">move_t</a> mv = <a class="code" href="list_8c.html#a3927d0ef75ff138ac62de97793024a0f">list_get</a>(<a class="code" href="structmoves.html">moves</a>, i);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="heuristic_8c.html#a339bf8a87fa849c6f02bbdc94aa807be">heuristic_actualize</a>(mv, <span class="keyword">self</span>.color);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    step = <a class="code" href="player4_8c.html#ae999b5cc7b431ab09bf73eeb4e93113d">min_max</a>(depth, alpha, beta, 0);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> (step &gt; better_move){</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      better_move = step;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      next_mv = mv;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">if</span> (step &gt; alpha){ alpha = step; }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">if</span> (beta &lt;= alpha){ <span class="keywordflow">break</span>; }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="heuristic_8c.html#ae464a86fa0015597dfb9ae150d073e98">heuristic_remove</a>(mv);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <a class="code" href="list_8c.html#a15aa9f8cf8424489adf1efd4d075aac6">list_free</a>(<a class="code" href="structmoves.html">moves</a>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  t2 = clock();</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  printf(<span class="stringliteral">&quot;%d noeuds en %lf secondes\n&quot;</span>, nb_nodes, (<span class="keywordtype">double</span>)(t2-t1)/(<span class="keywordtype">double</span>)clk_tck);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">return</span> next_mv;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9705fcde5f318c9c4b4a6f37bf531856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9705fcde5f318c9c4b4a6f37bf531856">&#9670;&nbsp;</a></span>propose_opening()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcol__move__t.html">col_move_t</a>* propose_opening </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a sequcen of three moves for an opening. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>the size of the board, size &gt;= 5 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an heap-allocated pointer to an array of three valid moves, that are consecutively BLACK, WHITE and BLACK. </dd></dl>

<p class="definition">Definition at line <a class="el" href="player4_8c_source.html#l00086">86</a> of file <a class="el" href="player4_8c_source.html">player4.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                                               {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keyword">struct </span><a class="code" href="structcol__move__t.html">col_move_t</a> cm;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <a class="code" href="player4_8c.html#a7f483503c1333214acb684507fa5c123">initialize</a>(size,BLACK);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  cm.m.row = size / 2;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  cm.m.col =  size / 2;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  cm.c = <span class="keyword">self</span>.color;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keyword">struct </span><a class="code" href="structcol__move__t.html">col_move_t</a> * cmv = malloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structcol__move__t.html">col_move_t</a>)*3);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  *cmv = cm;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keyword">struct </span><a class="code" href="structcol__move__t.html">col_move_t</a> cm1;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keyword">struct </span><a class="code" href="structcol__move__t.html">col_move_t</a> cm2;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keyword">self</span>.color = WHITE;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  cm1.m = <a class="code" href="player4_8c.html#ad36fed135f57e919a3a6e2a3d635d2d4">play</a>(cmv,1);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  cm1.c = <span class="keyword">self</span>.color;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  *(cmv+1) = cm1;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keyword">self</span>.color = BLACK;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  cm2.m = <a class="code" href="player4_8c.html#ad36fed135f57e919a3a6e2a3d635d2d4">play</a>(cmv,2);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  cm2.c = BLACK;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  *(cmv+2) = cm2;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keyword">self</span>.nb_moves = 0;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <a class="code" href="player4_8c.html#a32d626626eee0bc4ade146973f6abb1c">finalize</a>();</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">return</span> cmv;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_3e72a3b57dc3879b770eea3465447b47.html">players</a></li><li class="navelem"><a class="el" href="player4_8c.html">player4.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
